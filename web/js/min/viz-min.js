$(document).ready(function(){var t=960,n=500,e=d3.select("body").append("svg").attr("width",t).attr("height",n),a=d3.layout.force().gravity(.3).distance(100).charge(-100).size([t,n]);d3.json("data/panama.json",function(t,n){a.nodes(n.nodes).links(n.links).start();var r=e.selectAll(".link").data(n.links).enter().append("line").attr("class","link"),s=e.selectAll(".node").data(n.nodes).enter().append("g").attr("class","node").call(a.drag);s.append("circle").attr("r",function(t){return t.size}).attr("style","fill:steelblue"),s.append("svg:text").attr("class","nodetext").attr("dx",12).attr("dy",".35em").text(function(t){return t.name}),a.on("tick",function(){r.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),s.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})})})});